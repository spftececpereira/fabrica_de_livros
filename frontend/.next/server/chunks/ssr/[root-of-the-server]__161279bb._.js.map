{"version":3,"sources":["../../../../node_modules/.pnpm/next%4016.0.5_%40babel%2Bcore%407.28.5_react-dom%4019.2.0_react%4019.2.0__react%4019.2.0/node_modules/next/src/server/route-modules/app-page/vendored/contexts/hooks-client-context.ts","../../../../node_modules/.pnpm/next%4016.0.5_%40babel%2Bcore%407.28.5_react-dom%4019.2.0_react%4019.2.0__react%4019.2.0/node_modules/next/src/server/route-modules/app-page/vendored/contexts/server-inserted-html.ts","../../../../lib/types/book.ts","../../../../components/ui/card.tsx","../../../../components/ui/input.tsx","../../../../app/%28auth%29/forgot-password/page.tsx"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].HooksClientContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].ServerInsertedHtml\n","export enum BookStatus {\n  DRAFT = \"draft\",\n  PROCESSING = \"processing\",\n  COMPLETED = \"completed\",\n  FAILED = \"failed\",\n}\n\nexport enum BookStyle {\n  CARTOON = \"cartoon\",\n  REALISTIC = \"realistic\",\n  MANGA = \"manga\",\n  CLASSIC = \"classic\",\n}\n\nexport interface Book {\n  id: number\n  title: string\n  description: string | null\n  pages_count: number\n  style: BookStyle\n  status: BookStatus\n  cover_image: string | null\n  pdf_file: string | null\n  user_id: number\n  created_at: string\n  updated_at: string | null\n  pages: Page[]\n}\n\nexport interface Page {\n  id: number\n  book_id: number\n  page_number: number\n  text_content: string | null\n  image_url: string | null\n  image_prompt: string | null\n  created_at: string\n  updated_at: string | null\n}\n\nexport interface BookCreate {\n  title: string\n  description?: string\n  pages_count: number\n  style: BookStyle\n}\n\nexport interface BookUpdate {\n  title?: string\n  description?: string\n  pages_count?: number\n  style?: BookStyle\n}\n\nexport interface BookGenerationStatus {\n  task_id: string\n  status: \"pending\" | \"processing\" | \"completed\" | \"failed\"\n  progress: number\n  message: string\n  current_step?: string\n  estimated_completion?: string\n}\n\nexport interface BookStatistics {\n  total_books: number\n  completed_books: number\n  draft_books: number\n  processing_books: number\n  failed_books: number\n  total_pages: number\n  books_by_style: Record<BookStyle, number>\n  recent_activity: {\n    books_created_this_week: number\n    books_completed_this_week: number\n  }\n}\n\n// Validation constants (must match backend)\nexport const BOOK_CONSTRAINTS = {\n  MIN_PAGES: 5,\n  MAX_PAGES: 20,\n  MIN_TITLE_LENGTH: 3,\n  MAX_TITLE_LENGTH: 200,\n  MAX_DESCRIPTION_LENGTH: 1000,\n  VALID_STYLES: Object.values(BookStyle),\n  VALID_STATUSES: Object.values(BookStatus),\n} as const\n\n// Helper functions\nexport const bookHelpers = {\n  isEditable: (book: Book): boolean => \n    [BookStatus.DRAFT, BookStatus.FAILED].includes(book.status),\n  \n  isProcessing: (book: Book): boolean => \n    book.status === BookStatus.PROCESSING,\n  \n  isCompleted: (book: Book): boolean => \n    book.status === BookStatus.COMPLETED,\n  \n  canGeneratePdf: (book: Book): boolean => \n    book.status === BookStatus.COMPLETED && book.pages.length === book.pages_count,\n  \n  getStyleLabel: (style: BookStyle): string => {\n    const labels = {\n      [BookStyle.CARTOON]: \"Cartoon\",\n      [BookStyle.REALISTIC]: \"Realista\",\n      [BookStyle.MANGA]: \"Mangá\",\n      [BookStyle.CLASSIC]: \"Clássico\",\n    }\n    return labels[style] || style\n  },\n  \n  getStatusLabel: (status: BookStatus): string => {\n    const labels = {\n      [BookStatus.DRAFT]: \"Rascunho\",\n      [BookStatus.PROCESSING]: \"Processando\",\n      [BookStatus.COMPLETED]: \"Concluído\",\n      [BookStatus.FAILED]: \"Falhou\",\n    }\n    return labels[status] || status\n  },\n  \n  getStatusColor: (status: BookStatus): string => {\n    const colors = {\n      [BookStatus.DRAFT]: \"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300\",\n      [BookStatus.PROCESSING]: \"bg-yellow-100 text-yellow-800 dark:bg-yellow-800 dark:text-yellow-300\",\n      [BookStatus.COMPLETED]: \"bg-green-100 text-green-800 dark:bg-green-800 dark:text-green-300\",\n      [BookStatus.FAILED]: \"bg-red-100 text-red-800 dark:bg-red-800 dark:text-red-300\",\n    }\n    return colors[status] || colors[BookStatus.DRAFT]\n  }\n}","import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Card({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        'bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        '@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn('leading-none font-semibold', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        'col-start-2 row-span-2 row-start-1 self-start justify-self-end',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn('px-6', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn('flex items-center px-6 [.border-t]:pt-6', className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n","import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Input({ className, type, ...props }: React.ComponentProps<'input'>) {\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        'file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\n        'focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]',\n        'aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Input }\n","'use client'\n\nimport { useState } from 'react'\nimport { useRouter } from 'next/navigation'\nimport { useForm } from 'react-hook-form'\nimport { zodResolver } from '@hookform/resolvers/zod'\nimport Link from 'next/link'\nimport { Loader2 } from 'lucide-react'\nimport { toast } from 'sonner'\n\nimport { Button } from '@/components/ui/button'\nimport { Input } from '@/components/ui/input'\nimport { Label } from '@/components/ui/label'\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\nimport { Alert, AlertDescription } from '@/components/ui/alert'\n\nimport { forgotPasswordSchema, ForgotPasswordFormData } from '@/lib/validation/schemas'\nimport { api } from '@/lib/api'\n\nexport default function ForgotPasswordPage() {\n  const router = useRouter()\n  const [isSubmitting, setIsSubmitting] = useState(false)\n  const [message, setMessage] = useState<string | null>(null)\n  const [isError, setIsError] = useState(false)\n\n  const form = useForm<ForgotPasswordFormData>({\n    resolver: zodResolver(forgotPasswordSchema),\n    defaultValues: {\n      email: '',\n    },\n  })\n\n  const onSubmit = async (data: ForgotPasswordFormData) => {\n    setIsSubmitting(true)\n    setMessage(null)\n    setIsError(false)\n    try {\n      await api.post('/api/v1/auth/forgot-password', { email: data.email }, { skipErrorToast: true })\n      setMessage('Se o email estiver registrado, um link para redefinição de senha foi enviado para sua caixa de entrada.')\n      toast.success('Link de redefinição enviado!')\n      form.reset()\n    } catch (error: any) {\n      setIsError(true)\n      setMessage(error.message || 'Erro ao solicitar redefinição de senha. Tente novamente.')\n      toast.error(error.message || 'Erro ao solicitar redefinição.')\n    } finally {\n      setIsSubmitting(false)\n    }\n  }\n\n  return (\n    <div className=\"flex items-center justify-center min-h-screen py-12\">\n      <Card className=\"w-full max-w-md mx-auto\">\n        <CardHeader className=\"space-y-1\">\n          <CardTitle className=\"text-2xl font-bold text-center\">\n            Esqueceu sua senha?\n          </CardTitle>\n          <CardDescription className=\"text-center\">\n            Digite seu email abaixo e enviaremos um link para redefinir sua senha.\n          </CardDescription>\n        </CardHeader>\n        \n        <CardContent>\n          <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-4\">\n            {message && (\n              <Alert variant={isError ? \"destructive\" : \"default\"}>\n                <AlertDescription>{message}</AlertDescription>\n              </Alert>\n            )}\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"email\">Email</Label>\n              <Input\n                id=\"email\"\n                type=\"email\"\n                placeholder=\"seu@email.com\"\n                {...form.register('email')}\n                error={form.formState.errors.email?.message}\n                disabled={isSubmitting}\n              />\n            </div>\n\n            <Button \n              type=\"submit\" \n              className=\"w-full\"\n              disabled={isSubmitting}\n            >\n              {isSubmitting ? (\n                <>\n                  <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n                  Enviando...\n                </>\n              ) : (\n                'Enviar link de redefinição'\n              )}\n            </Button>\n\n            <div className=\"text-center text-sm text-muted-foreground\">\n              <Link \n                href=\"/login\" \n                className=\"text-primary hover:underline font-medium\"\n              >\n                Voltar para o login\n              </Link>\n            </div>\n          </form>\n        </CardContent>\n      </Card>\n    </div>\n  )\n}"],"names":["module","exports","require","vendored","HooksClientContext","ServerInsertedHtml"],"mappings":"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","ignoreList":[0,1]}